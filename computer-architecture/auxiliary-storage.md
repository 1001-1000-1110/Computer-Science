## 다양한 보조기억장치

- 하드디스크
    
    - 자기적인 방식으로 데이터를 저장하는 보조기억장치
        
    - 플래터 : 하드 디스크에서 실질적으로 데이터가 저장되는 곳
    - 스핀들 : 플래터를 회전시키는 구성요소(속도단위 : RPM)
        
    - 헤드 : 플래터를 대상으로 데이터를 읽고 쓰는 구성 요소
    - 디스크암 : 원하는 위치로 헤드를 이동시킴
    - 하드디스크는 여러겹의 플래터로 구성되며 플래터 양면 모두 사용 가능
    - 일반적으로 모든 헤드는 디스크 암에 부착되어 다같이 이동
        
    - 트랙 : 플래터를 여러 동심원으로 나누었을 때 그 중 하나의 원
    - 섹터 : 트랙을 여러 조각으로 나눈 것중 한 조각, 하드 디스크의 가장 작은 전송 단위
    - 블록 : 하나 이상의 섹터를 묶은 것
        
        
    - 실린더 : 여러 겹의 플래터 상에서 같은 트랙이 위치한 곳을 모아 연결한 논리적 단위
        
        
        연속된 정보는 보통 한 실린더 안에 기록된다.(위, 아래, 위, 아래, … ) 디스크 암을 움직이지 않고도 바로 데이터에 접근할 수 있기 때문이다.(모든 헤더는 다같이 이동)
        
    - 하드 디스크가 저장된 데이터에 접근하는 시간
        1. 탐색시간 : 접근하려는 데이터가 저장된 트랙까지 헤드를 이동시키는 시간
            
            
        2. 회전 지연 : 헤드가 있는 곳으로 플래터를 회전시키는 시간
            
            
        3. 전송 시간 : 하드 디스트와 컴퓨터 같에 데이터를 전송하는 시간
            
            
    
    > **다중 헤드 디스크와 고정헤드 디스크**
    > 
    > 
    > 
- 플래시 메모리
    
    
    전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반의 저장장치
    
    ex) USB메모리, SD카드, SSD카드, …
    
    > **NAND플래시 메모리와 NOR플래시 메모리**
    > 
    > 
    > NAND연산을 수행하는 회로기반, NOR연산을 수행하는 회로 기반의 메모리로 대용량 저장장치로 많이 사용되는 플래시 메모리는 NAND플래시 메모리
    > 
    
    > **플래시 메모리의 수명**
    > 
    > 
    > 한 셀에 일정 횟수 이상 데이터를 쓰고 지우면 그 셀을 더이상 데이터를 저장할 수 없게 됨
    > 
    - 셀(cell) : 플래시 메모리에서 데이터를 저장하는 가장 작은 단위로 하나의 셀에 몇 비트를 저장할 수 있느냐에 따라 플래시 메모리 종류가 나뉜다.
    - SLC(single level cell, 한 셀에 1비트 저장)
        
        
        - 한 셀로 두개의 정보 표현
        - SLC타입은 MLC나 TLC타입에 비해 비트의 빠른 입출력이 가능
        - 수명도 MLC나 TLC타입에 비해 길다
        - 용량 대비 가격이 높다
        - 기업에서 고성능의 빠른 저장장치가 필요할 경우 사용
    - MLC(multiple level cell, 한 셀에 2비트 저장)
        
        
        - 한 셀에 네개의 정보 표현
        - SLC타입보다 일반적으로 속도와 수명이 떨어짐
        - SLC타입보다 대용화하기 유리
        - SLC타입보다 저렴
        - 시중에서 사용되는 플래시 저장 장치들이 MLC로 만들어짐
    - TLC(triple level cell, 한 셀에 3비트 저장)
        
        
        - 한 셀에 여덟개 정보 표현
        - 대용화에 유리
        - SLC나 MLC에 비해 수명과 속도가 떨어짐
        - 용량대비 가격 저렴
    
    
    - 셀보다 큰 단위
        
        
        - 페이지 : 셀들이 모여 만들어진 단위
        - 블록 : 페이지가 모여 만들어진 단위
        - 플레인 : 블록이 모여 만들어진 단위
        - 다이 : 플레인이 모여 만들어진 단위
- 페이지의 상태
    1. Free : 어떠한 데이터도 저장하지 있지 않아 새로운 데이터를 저장할 수 있는 상태
    2. Valid : 이미 유효한 데이터를 저장하고 있는 상태
    3. Invalid : 쓰레기값이라 부르는 유효하지 않은 데이터를 저장하고 있는 상태
    
    → 플래시 메모리는 하드 디스크와 달리 덮어쓰기가 불가능하여 Valid상태인 페이지에는 새 데이터로 수정할 수 없다.
    

<aside>
💡 플래시 메모리의 읽기/쓰기/삭제 단위
플래시 메모리에서 읽기와 쓰기는 **페이지 단위**로 이루어진다. 하지만 삭제는 페이지보다 큰 **블록 단위**로 이루어진다.

- 쓰기
    
    
- 수정 (A → ‘A)
    1. Free 페이지에 ‘A데이터 저장
        
        
    2. 유효한 페이지들만 새로운 블록에 복사한 뒤, 기존의 블록을 삭제
        
        (by 가비지 컬렉션)
        
        
</aside>

## RAID의 정의와 종류

주로 하드디스크와 SSD를 사용하는 기술로, 데이터의 안전성 혹은 높은 성능을 위해 여러 개의 물리적 보조기억장치를 마치 하나의 논리적 보조기억장치처럼 사용하는 기술

- RAID의 종류
    1. RAID0
        
        여러 개의 보조기억장치에 데이터를 단순히 나누어 저장하는 구성 방식으로 데이터를 저장할 때 번갈아가면서 데이터를 저장
        
        
        > **스트라입**
        > 
        > 
        > 줄무늬처럼 분산되어 저장된 데이터
        > 
        > **스트라이핑**
        > 
        > 분산하여 저장하는 것
        > 
        - 스트라이핑할 경우 저장된 데이터를 읽고 쓰는 속도가 빨라진다.
            
            → 데이터를 동시에 읽고 쓸 수 있기 때문
            
            
        - 하지만 저장된 정보가 안전하지 않다. 하드 디스크 중 하나에 문제가 생긴다면 다른 모든 하드 디스크의 정보를 읽는 데 문제 발생
    2. RAID 1
        
        복사본을 반드는 방식
        
        
        - RAID1에 어떠한 데이터를 쓸 때는 원본과 복사본 두 군데에 써야해서 쓰기 속도는 RAID0보다 느림
        - 똑같은 디스크가 두개가 있기 때문에 복구가 매우 간단함
        - 하지만 사용 가능한 용량이 적어짐 1/2
        - 많은 양의 하드디스크가 필요하게되고 비용이 증가
    3. RAID 4
        
        오류를 검출하고 복구하기 위한 정보를 저장한 장치를 두는 구성 방식
        
        
        - 패리티 비트 : 오류를 검출하고 복구하기 위한 정보
            
            원래 패리티 비트는 오류 검출용 정보지만 RAID에서는 오류 복구도 가능
            
        - 패리티를 저장한 장치를 이용해 다른 장치들의 오류를 검출하고 오류가 있다면 복구
    4. RAID 5
        
        RAID4의 경우 새로운 데이터가 저장될 때마다 패리티를 저장한 디스크에도 데이터를 쓰게 되므로 패리티를 저장한 디스크에 병목현상이 발생한다는 문제가 있음 
        
        패리티가 한 디스크에 몰빵되면 디스크 1,2,3보다 하는 일이 많아지게되고 패리티를 저장한 디스크의 수명이 현저히 적어진다.
        
        → RAID5에서는 패리티 정보를 분산해서 저장
        
        
        디스크1이 고장나도 디스크 2,3,4에 있는 패리티 C, B, A로 복구가 가능하며 디스크들이 골고루 일하므로 병목현상을 해소시킬 수 있다.
        
    5. RAID 6
        
        서로다른 두개의 패리티를 두는 방식으로 오류를 검출하고 복구할 수 있는 수단이 두개가 생김
        
        
        - 새로운 정보를 저장할 때마다 업데이트할 패리티가 두 개 이므로 쓰기 속도는 RAID5보다 느리다.
        - RAID5보다 안전한 구성
